<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Untitled Document</title>
    <link href="../css/bootstrap-3.3.4.css" rel="stylesheet" type="text/css">
    <link href="../css/Styles.css" rel="stylesheet" type="text/css" />
    <link href='https://fonts.googleapis.com/css?family=Roboto+Condensed:400,700' rel='stylesheet' type='text/css'>
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
    <script type="text/javascript" src="http://www.parsecdn.com/js/parse-latest.js"></script>
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

</head>
<body>
<header id="header" class="headerStyle">
    <div class="container">
        <h1>Exam Scheduler</h1>
    </div>
</header>
    <div class="container">
        <div class="titleStyle">
            <h2>
                SET DATE FOR A GROUP EXAM</h2>
        </div>
        <form action="">
        <div class="row" style="margin-top: 30px;">
            <div class="col-md-4" style="margin-top: 20px;">
                <div>
                    <div class="input-group">
                        <span class="input-group-addon">Group:&nbsp;&nbsp;&nbsp;</span>
                        <select name="ddlGroup" class="form-control" id="ddlGroup" required>
                            <option value="">Select...</option>
                        </select>
                    </div>
                </div>
            </div>
            <div class="col-md-4" style="margin-top: 20px;">
                <div>
                    <div class="input-group">
                        <span class="input-group-addon">Location: </span>
                        <select name="ddlLocation" class="form-control" id="ddlLocation" required>
                            <option value="">Select...</option>
                        </select>
                    </div>
                </div>
            </div>
            <div class="col-md-4" style="margin-top: 20px;">
                <div>
                    <div class="input-group">
                        <span class="input-group-addon">Subject:&nbsp;&nbsp; </span>
                        <select name="ddlSubject" class="form-control" id="ddlSubject" required>
                            <option value="">Select...</option>
                        </select>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-4" style="margin-top: 20px;">
                <div>
                    <div class="input-group">
                        <span class="input-group-addon">Date:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
                        <input type="date" class="form-control" name="txtDate" id="txtDate" required>
                    </div>
                </div>
            </div>
            <div class="col-md-4" style="margin-top: 20px;">
                <div>
                    <div class="input-group">
                        <span class="input-group-addon">Time:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>
                        <input type="time" class="form-control" name="txtTime" id="txtTime" required>
                    </div>
                </div>
            </div>
            <div class="col-md-4" style="margin-top: 20px;">
                <div class="btn-group" role="group">
                    <button type="submit" class="btn btn-default" style="width: 100px">
                        Add</button>
                </div>
                <div class="btn-group" role="group">
                    <button type="button" class="btn btn-default" style="width: 100px" onclick="mifuncion()">
                        Test</button>
                </div>
            </div>
        </div>
        </form>
    </div>
    <script type="text/javascript">
        Parse.initialize("I8j2v2nLAPbNXeHzbf2VJB2GZa0FtIZvLwjhQU9b", "bNhGiXDfV4y1pMFBF4AM5SJ0d8EgJv1RcXcxiN7A");

        var Groups = Parse.Object.extend("Groups");
        var query = new Parse.Query(Groups);

        //Group.save({IdGroup:2,Description:"Mi Grupo"})

        /*var desc = query.notEqualTo("---",
        {
        success: function (groups) {alert("satisfactorio")},
        error: function (object, error) {alert("error")}
        });
        */

        //FILLING THE GROUP DROP DOWN LIST
        var GroupDesc = Parse.Object.extend("Groups");
        var query = new Parse.Query(GroupDesc);
        query.find({
            success: function (groupDesc) {
                var ddl = document.getElementById("ddlGroup");
                for (i = 0; i < groupDesc.length; i++) {
                    if(i==0)
                    {ddl.options[i] = new Option("Select...","")}
                    ddl.options[i+1] = new Option(groupDesc[i].get("Description"), groupDesc[i].get("IdGroup"));
                }
            },
            error: function (object, error) {
                alert("Error loading data for Groups ")
                // The object was not retrieved successfully.
                // error is a Parse.Error with an error code and message.
            }
        });


        //FILLING THE LOCATION DROP DOWN LIST
        var LocationDesc = Parse.Object.extend("Locations");
        var queryLoc = new Parse.Query(LocationDesc);
        queryLoc.find({
            success: function (locationsDesc) {
                var ddlLoc = document.getElementById("ddlLocation");
                for (i = 0; i < locationsDesc.length; i++) {
                    if(i==0)
                    {ddlLoc.options[i] = new Option("Select...","")}
                    ddlLoc.options[i+1] = new Option(locationsDesc[i].get("Description"), locationsDesc[i].get("IdLocation"));
                }
            },
            error: function (object, error) {
                alert("Error loading data for Locations ")
            }
        });

        //FILLING THE LOCATION DROP DOWN LIST
        var ExamDesc = Parse.Object.extend("Exams");
        var queryLoc = new Parse.Query(ExamDesc);
        queryLoc.find({
            success: function (examDesc) {
                var ddlExam = document.getElementById("ddlSubject");
                for (i = 0; i < examDesc.length; i++) {
                    if(i==0)
                    {ddlExam.options[i] = new Option("Select...","")}
                    ddlExam.options[i+1] = new Option(examDesc[i].get("Description"), examDesc[i].get("IdExam"));
                }
            },
            error: function (object, error) {
                alert("Error loading data for Subjects/Exams")
            }
        });


     </script>
</body>
</html>
